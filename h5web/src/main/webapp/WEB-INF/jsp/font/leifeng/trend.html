<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="applicable-device" content="mobile">
    <meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>六合论坛</title>
    <base href="">
    <link rel="stylesheet" type="text/css" href="assets/css/reset.css">
<link rel="stylesheet" type="text/css" href="assets/css/model.css">
    <link rel="stylesheet" type="text/css" href="lib/layer/theme/default/layer.css">
    <link rel="stylesheet" type="text/css" href="assets/css/layout.css">
    <script type="text/javascript">
        var baseUrl = "";
        var rserver = "http://formu-frontendweb.dj789.net/";
    </script>
    <script src="lib/require.js" type="text/javascript"></script>
    <script src="require.config.js" type="text/javascript"></script>
    <style type="text/css">
        #swiperContainer { overflow-x: hidden;  }
        .swiper-slide { display: none;  }
        .swiper-slide.swiper-slide-active { display: block;  }
    </style>
</head>

<body>
    <div id="wrapper" class="wrapper">
		<div class="content">
            <div id="header" class="__html_module" data-tmpl="module/header.html"></div>
            <div class="trendChart">
                <ul id="swiperBtGroup">
                    <li><a href="javascript:void(0);"><span>开奖</span></a></li>
                    <li><a href="javascript:void(0);"><span>尾号</span></a></li>
                    <li><a href="javascript:void(0);"><span>头号</span></a></li>
                    <li><a href="javascript:void(0);"><span>波色</span></a></li>
                    <li><a href="javascript:void(0);"><span>五行</span></a></li>
                    <li><a href="javascript:void(0);"><span>生肖</span></a></li>
                </ul>
                <div class="clearfix"></div>
                <div id="swiperContainer">
                    <div class="swiper-wrapper">
                        <div class="swiper-slide record">
                            <div id="recordResult"></div>
                        </div>
                        <div class="swiper-slide weisu">
                            <table>
                                <thead>
                                    <tr>
                                        <th>期号</th>
                                        <th>0</th>
                                        <th>1</th>
                                        <th>2</th>
                                        <th>3</th>
                                        <th>4</th>
                                        <th>5</th>
                                        <th>6</th>
                                        <th>7</th>
                                        <th>8</th>
                                        <th>9</th>
                                    </tr>
                                </thead>
                                <tbody id="weisuResult">
                                </tbody>
                            </table>
                        </div>
                        <div class="swiper-slide touhao">
                            <table>
                                <thead>
                                    <tr>
                                        <th>期号</th>
                                        <th>0</th>
                                        <th>1</th>
                                        <th>2</th>
                                        <th>3</th>
                                        <th>4</th>
                                    </tr>
                                </thead>
                                <tbody id="touhaoResult">
                                </tbody>
                            </table>
                        </div>
                        <div class="swiper-slide bose">
                            <table>
                                <thead>
                                    <tr>
                                        <th>期号</th>
                                        <th>红波</th>
                                        <th>蓝波</th>
                                        <th>绿波</th>
                                    </tr>
                                </thead>
                                <tbody id="boseResult">
                                </tbody>
                            </table>
                        </div>
                        <div class="swiper-slide wuxing">
                            <table>
                                <thead>
                                    <tr>
                                        <th>期号</th>
                                        <th>金</th>
                                        <th>木</th>
                                        <th>水</th>
                                        <th>火</th>
                                        <th>土</th>
                                    </tr>
                                </thead>
                                <tbody id="wuxingResult">
                                </tbody>
                            </table>
                        </div>
                        <div class="swiper-slide shengqiao">
                            <table>
                                <thead>
                                    <tr>
                                        <th>期号</th>
                                        <th>鼠</th>
                                        <th>牛</th>
                                        <th>虎</th>
                                        <th>兔</th>
                                        <th>龙</th>
                                        <th>蛇</th>
                                        <th>马</th>
                                        <th>羊</th>
                                        <th>猴</th>
                                        <th>鸡</th>
                                        <th>狗</th>
                                        <th>猪</th>
                                    </tr>
                                </thead>
                                <tbody id="shengqiaoResult">
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
		</div>
         <div class="swiper-pagination"></div>
		<div id="footer" class="__html_module" data-tmpl="module/footer.html"></div>
    </div>      
</body>
</html>
<script id="recordTmpl" type="text/x-jquery-tmpl">
    <div class="recordItem">{{html $item.htmlGameResultItem($data)}}</div>
</script>
<script id="weisuTmpl" type="text/x-jquery-tmpl">
    <tr>
        <td>${$item.getQihao($data.comp_id.drawId)}</td>
        <td>{{html $item.getCurrentHtml($data,0,0)}}</td>
        <td>{{html $item.getCurrentHtml($data,1,0)}}</td>
        <td>{{html $item.getCurrentHtml($data,2,0)}}</td>
        <td>{{html $item.getCurrentHtml($data,3,0)}}</td>
        <td>{{html $item.getCurrentHtml($data,4,0)}}</td>
        <td>{{html $item.getCurrentHtml($data,5,0)}}</td>
        <td>{{html $item.getCurrentHtml($data,6,0)}}</td>
        <td>{{html $item.getCurrentHtml($data,7,0)}}</td>
        <td>{{html $item.getCurrentHtml($data,8,0)}}</td>
        <td>{{html $item.getCurrentHtml($data,9,0)}}</td>
    </tr>
</script>
<script id="touhaoTmpl" type="text/x-jquery-tmpl">
    <tr>
        <td>${$item.getQihao($data.comp_id.drawId)}</td>
        <td>{{html $item.getCurrentHtml($data,0,1)}}</td>
        <td>{{html $item.getCurrentHtml($data,1,1)}}</td>
        <td>{{html $item.getCurrentHtml($data,2,1)}}</td>
        <td>{{html $item.getCurrentHtml($data,3,1)}}</td>
        <td>{{html $item.getCurrentHtml($data,4,1)}}</td>
    </tr>
</script>
<script id="boseTmpl" type="text/x-jquery-tmpl">
    <tr>
        <td>${$item.getQihao($data.comp_id.drawId)}</td>
        <td>{{html $item.getCurrentHtml($data,1,2)}}</td>
        <td>{{html $item.getCurrentHtml($data,2,2)}}</td>
        <td>{{html $item.getCurrentHtml($data,3,2)}}</td>
    </tr>
</script>
<script id="wuxingTmpl" type="text/x-jquery-tmpl">
    <tr>
        <td>${$item.getQihao($data.comp_id.drawId)}</td>
        <td>{{html $item.getCurrentHtml($data,1,3)}}</td>
        <td>{{html $item.getCurrentHtml($data,2,3)}}</td>
        <td>{{html $item.getCurrentHtml($data,3,3)}}</td>
        <td>{{html $item.getCurrentHtml($data,4,3)}}</td>
        <td>{{html $item.getCurrentHtml($data,5,3)}}</td>
    </tr>
</script>
<script id="shengqiaoTmpl" type="text/x-jquery-tmpl">
    <tr>
        <td>${$item.getQihao($data.comp_id.drawId)}</td>
        <td>{{html $item.getCurrentHtml($data,1,4)}}</td>
        <td>{{html $item.getCurrentHtml($data,2,4)}}</td>
        <td>{{html $item.getCurrentHtml($data,3,4)}}</td>
        <td>{{html $item.getCurrentHtml($data,4,4)}}</td>
        <td>{{html $item.getCurrentHtml($data,5,4)}}</td>
        <td>{{html $item.getCurrentHtml($data,6,4)}}</td>
        <td>{{html $item.getCurrentHtml($data,7,4)}}</td>
        <td>{{html $item.getCurrentHtml($data,8,4)}}</td>
        <td>{{html $item.getCurrentHtml($data,9,4)}}</td>
        <td>{{html $item.getCurrentHtml($data,10,4)}}</td>
        <td>{{html $item.getCurrentHtml($data,11,4)}}</td>
        <td>{{html $item.getCurrentHtml($data,12,4)}}</td>
    </tr>
</script>
<script type="text/javascript"> 

    require(['jquery','swiper','tmpl','lib/jquery.tmpl.ext','css!lib/swiper/swiper.min'],function($,Swiper){
        var tmplExtFun = {
            htmlGameResultItem:function(listItem){
                var resultHtml="";
                var gameDateReset = commonFunction.dateToString(listItem.gameDate,"yyyy年MM月dd日");
                var gameShortId = listItem.comp_id.drawId.substr(4);
                resultHtml +="<p>六合彩开奖直播 "+gameDateReset+" 第"+gameShortId+"期</p>";
                //游戏结果
                var gameResultArray = listItem.result.split(",");
                //五行
                var gameResulFivetArray = listItem.resultFive.split(",");
                //家禽
                var gameResulHometArray = listItem.resultHome.split(",");
                //波色
                var gameResultWaveArray = listItem.resultWave.split(",");
                //生肖
                var gameResultZodiacArray = listItem.resultZodiac.split(",");
                resultHtml += '<div class="resultDetail">';
                resultHtml += '<p class="result_first">';
                for(var i=0;i<gameResultArray.length;i++){
                    var colorTagIndex = parseInt(gameResultWaveArray[i]);
                    var colorTag = commonFunction.str_wave_color[colorTagIndex]
                    resultHtml+='<a href="javascript:void(0);" class="'+colorTag+'"><span>'+gameResultArray[i]+'</span></a>';
                    if(i==5){
                        resultHtml+='<a href="javascript:void(0);" class="plugin"><span>'+"+"+'</span></a>';
                    }
                }
                resultHtml += '</p>';
                resultHtml += '<p class="result_sec">';
                resultHtml += '<div class="clearfix">'
                for(var i=0;i<gameResultArray.length;i++){
                    var zodiacIndex = parseInt(gameResultZodiacArray[i]);
                    var fiveIndex = parseInt(gameResulFivetArray[i]);
                    resultHtml+='<a href="javascript:void(0);"><span>'+commonFunction.str_zodiac[zodiacIndex]+'&nbsp;/&nbsp;'+commonFunction.str_five[fiveIndex]+'</span></a>';
                    if(i==5){
                        resultHtml+='<a href="javascript:void(0);" class="plugin"><span>&nbsp;</span></a>';
                    }
                }
                resultHtml += '</p>';
                resultHtml += '</div>';
                resultHtml += '</div>';
                return resultHtml;
            },
            getQihao:function(val){
                return val.substr(4);
            },
            getTema:function(val){
                var valArray = val.replace(/\s+/ig,'').split(/\,+/ig);
                if(valArray.length==7){
                    return parseInt(valArray[6])>9?valArray[6]:'0'+parseInt(valArray[6]);
                }
                return "";
            },
            getWeisu:function(val){
                var tema = this.getTema(val);
                if(tema.length>0){
                    return parseInt(tema.substr(1));
                }
                return -1;
            },
            getTouhao:function(val){
                var tema = this.getTema(val);
                if(tema.length>0){
                    return parseInt(tema.substr(0,1));
                }
                return -1;
            },
            getTagIndex:function(val){
                var valArray = val.replace(/\s+/ig,'').split(/\,+/ig);
                if(valArray.length==7){
                    return parseInt(valArray[6]);
                }
                return 0;
            },          
            getCurrentHtml:function(val,tdindex,type){
                var temaNumber = this.getTema(val.result);
                var colorTagIndex = this.getTagIndex(val.resultWave);
                var wuxingTagIndex = this.getTagIndex(val.resultFive);
                var shengqiaoTagIndex = this.getTagIndex(val.resultZodiac);
                var colorTag = commonFunction.str_wave_color[colorTagIndex];
                if(type==0){
                    var weisu = this.getWeisu(val.result);
                    if(parseInt(weisu)==tdindex){
                        return '<span class="resultItem '+colorTag+'"><i>'+temaNumber+'</i></span>'
                    }else{
                        return '<span class="numberItem"><i>&nbsp;</i></span>'
                    }
                }
                if(type==1){
                    var touhao = this.getTouhao(val.result);
                    if(parseInt(touhao)==tdindex){
                        return '<span class="resultItem '+colorTag+'"><i>'+temaNumber+'</i></span>'
                    }else{
                        return '<span class="numberItem"><i>&nbsp;</i></span>'
                    }
                }
                if(type==2){
                    if(colorTagIndex==tdindex){
                        return '<span class="resultItem '+colorTag+'"><i>'+temaNumber+'</i></span>'
                    }else{
                        return '<span class="numberItem"><i>&nbsp;</i></span>'
                    }
                }
                if(type==3){
                    if(wuxingTagIndex==tdindex){
                        return '<span class="resultItem '+colorTag+'"><i>'+temaNumber+'</i></span>'
                    }else{
                        return '<span class="numberItem"><i>&nbsp;</i></span>'
                    }
                }
                if(type==4){
                    if(shengqiaoTagIndex==tdindex){
                        return '<span class="resultItem '+colorTag+'"><i>'+temaNumber+'</i></span>'
                    }else{
                        return '<span class="numberItem"><i>&nbsp;</i></span>'
                    }
                }
            }
        };
        var extFun = $.extend({},commonFunction,tmplExtFun);
        var mySwiper = new Swiper('#swiperContainer',{effect:"fade"});
         $("#swiperBtGroup a").each(function(index,elem){
            $(this).on('click',function(event){
                mySwiper.slideTo(index,0);
            })
         });
         function getDrawListByTmpl(reqOptions){
            var reqData = reqOptions?reqOptions:{};
            $.ajax({
                url:rserver+"history/list",
                data:reqData,
                dataType:"jsonp",
                success:function(respData, textStatus, jqXHR){
                    $("#recordTmpl").tmpl(respData,extFun).appendTo("#recordResult");
                    $("#weisuTmpl").tmpl(respData,extFun).appendTo("#weisuResult");
                    $("#touhaoTmpl").tmpl(respData,extFun).appendTo("#touhaoResult");
                    $("#boseTmpl").tmpl(respData,extFun).appendTo("#boseResult");
                    $("#wuxingTmpl").tmpl(respData,extFun).appendTo("#wuxingResult");
                    $("#shengqiaoTmpl").tmpl(respData,extFun).appendTo("#shengqiaoResult"); 
                },
                error:function(XMLHttpRequest, textStatus, errorThrown){},
                complete:function(XMLHttpRequest, textStatus){}
            });
         };
        $(document).ready(function(){
            getDrawListByTmpl({});       
        });
    });
</script>